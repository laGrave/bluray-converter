# BluRay Converter

Автоматическая система конвертации BluRay фильмов в формат MKV с использованием распределенной обработки между Synology NAS и Mac mini.

## Описание

Система автоматически обнаруживает новые BluRay фильмы на вашем NAS, конвертирует их в формат MKV на Mac mini и отправляет уведомления через Telegram по завершении. Разработана для медиасерверов Plex, которые не поддерживают формат BDMV нативно.

## Архитектура

- **NAS Сервисы** (Synology): Мониторинг файлов, управление задачами, веб-интерфейс, Telegram уведомления
- **Mac Сервисы** (Mac mini): Обработка видео, анализ BDMV, конвертация через FFmpeg

## Быстрый старт

1. **Настройка NAS**:
   ```bash
   cd nas-services
   cp .env.example .env
   # Отредактируйте .env с вашими настройками
   ./scripts/deploy-nas.sh
   ```

2. **Настройка Mac**:
   ```bash
   cd mac-services
   cp .env.example .env
   # Отредактируйте .env с вашими настройками
   ./scripts/deploy-mac.sh
   ```

3. **Использование**:
   - Скопируйте BluRay фильмы в `/volume1/video/Кино/BluRayRAW/`
   - Система автоматически обработает их в 3 утра или через веб-интерфейс
   - Конвертированные файлы появятся в `/volume1/video/Кино/BluRayProcessed/`

## Возможности

- ✅ Автоматическое обнаружение и конвертация BluRay
- ✅ Remux без потери качества
- ✅ Веб-интерфейс управления
- ✅ Telegram уведомления и команды бота
- ✅ Распределенная архитектура обработки
- ✅ Обработка ошибок и логика повторных попыток
- ✅ Полная контейнеризация Docker

## Документация

- [Инструкции по установке](docs/SETUP.md)
- [Руководство пользователя](docs/USAGE.md)
- [Решение проблем](docs/TROUBLESHOOTING.md)

## Требования

- Synology NAS с поддержкой Docker
- Mac mini с Apple Silicon и Docker Desktop
- Локальная сеть между устройствами
- Поддержка FFmpeg
- Токен Telegram бота (по желанию)

## Структура директорий

```
/volume1/video/Кино/
├── BluRayRAW/          # Входные данные: Размещайте BluRay фильмы здесь
├── BluRayProcessed/    # Выходные данные: Конвертированные MKV файлы
└── BluRayTemp/         # Временные файлы обработки
```

## Веб-интерфейс

Доступ к интерфейсу управления по адресу `http://your-nas-ip:8081`:
- Просмотр очереди обработки
- Мониторинг прогресса конвертации
- Ручной запуск сканирования
- Просмотр истории обработки и статистики

## Лицензия

Данный проект предназначен только для образовательных и личных целей.